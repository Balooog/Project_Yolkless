# Metrics Dashboard Specification

> Defines nightly dashboard generation for telemetry and performance monitoring. Terminology: [Glossary](../Glossary.md).

## Pipeline
1. **Input Data:** JSON logs from `/reports/nightly/` generated by PX-014.2 and nightly replay jobs.
2. **Processor:** `tools/gen_dashboard.py` reads JSON, aggregates via Pandas, outputs CSV + HTML.
3. **Graphs:**
   - `sandbox_tick_ms_p95`
   - `pps_avg`
   - `ci_avg`
   - `power_ratio_avg`
4. **Output:** `/reports/dashboard/index.html` with timestamp, summary table, and inline graphs.
5. **CI Integration:** Nightly job `generate-dashboard` runs after `replay-nightly`, uploads HTML + assets as artifacts, and pushes to `gh-pages` (or equivalent).
6. **Alerts:** Metric drift >15â€¯% week-over-week flagged in summary (`alerts` section with owner + recommended action).
7. **Dependencies:** Python 3.10+, `pandas`, `matplotlib`, `jinja2` listed in `tools/requirements.txt`.
8. **Ownership:** QA automation lead; secondary owner systems engineer.
9. **Data Retention:** Keep last 30 days of dashboards; archive older ones under `reports/dashboard/archive/`.

## Command Example
```bash
python3 tools/gen_dashboard.py --input reports/nightly --output reports/dashboard/index.html
```

## References
- [Telemetry & Replay](../quality/Telemetry_Replay.md)
- [CI Pipeline](../qa/CI_Pipeline.md)
- [Risk Register](Risk_Register.md)
