# PX-020.4 â€” Telemetry & Replay Coverage for PX-020 Series

> Ensures the new HUD stats, automation panel events, and copy rules show up in telemetry artifacts so QA and LiveOps can trust PX-020 without interactive builds.

## Summary
- Extend the [Telemetry Replay Quickstart](../quickstarts/telemetry_replay_quickstart.md) with PX-020 specific checks (HUD label logging, StatBus fields, automation panel signals).
- Describe how `tools/replay_headless.gd` prints the Slot D/F labels every 10 seconds and how CSVs now contain `economy_rate`, `economy_rate_label`, `conveyor_backlog`, `conveyor_backlog_label`.
- Outline dashboard/reporting hooks so `docs/quality/Telemetry_Replay.md` consumers know where to find PX-020 metrics.

## Goals
1. Codify replay args, seeds, and verification steps that prove PX-020 signals/stats are wired correctly (no more ad-hoc console watching).
2. Document CSV and JSON schema additions so downstream analytics can ingest PX-020 data.
3. Capture CI/gating expectations so the Shipping Plan can call out how PX-020 is validated pre-merge.

## Dependencies
- [PX-020.1 GUI Wiring](PX-020.1_GUI_Wiring.md) for stat descriptions.
- [PX-020.2 Interaction](PX-020.2_Interaction_AutomationPanel.md) and [PX-020.3 Tooltips Copy](PX-020.3_Tooltips_Copy.md) for events/copy referenced in telemetry notes.
- [Signals & Events](../architecture/Signals_Events.md), [StatBus Catalog](../architecture/StatBus_Catalog.md), and [Modules](../modules/economy.md) / [../modules/conveyor.md](../modules/conveyor.md).
- [Shipping Implementation Plan](../roadmap/Shipping_Implementation_Plan.md) for CI expectations.

## Tasks & Deliverables
| Task | Description | Output |
| --- | --- | --- |
| Replay checklist | Step-by-step commands + expected log snippets verifying Slot D/F labels + automation panel signals | Section referencing `tools/replay_headless.gd` |
| CSV schema note | Detail new columns + units for StatsProbe exports | Table referencing StatBus catalog |
| Dashboard pointer | Explain how `tools/gen_dashboard.py` should surface PX-020 metrics (rate/backlog charts) | Notes referencing `docs/quality/Telemetry_Replay.md` |
| CI gating | Document when to run replay + ui_assert in CI for PX-020 PRs | Add bullet in Shipping Plan (cross-link) |

## Replay Validation Steps
1. Run `source .env && $(bash tools/godot_resolver.sh) --headless --script res://tools/replay_headless.gd --duration=300 --seed=42`.
2. Confirm console output logs `[hud] economy_rate=... | conveyor_backlog=...` at least once every 10 seconds and at shutdown.
3. Inspect the latest `user://logs/perf/tick_*.csv` and ensure the tail columns include the four PX-020 fields with non-zero data.
4. Load the generated JSON summary and verify `economy_rate_avg` and `conveyor_backlog_avg` exist under `stats`.
5. Record findings in `docs/quality/Telemetry_Replay.md` or the relevant RM log before merging.

## Acceptance Criteria
- Replay checklist lives in this file and links back to the quickstart + telemetry spec.
- CSV + JSON schema notes match what StatBus/StatsProbe emits and explain units + stack rules.
- Shipping Plan references this doc for PX-020 CI gating, noting that HUD + replay validations must be attached to PRs.
- QA has a clear path to capture HUD/copy screenshots or logs for artifact bundles without touching runtime code.
