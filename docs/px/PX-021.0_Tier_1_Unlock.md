# PX-021.0 — Tier I Unlock & Conveyor Boost

## Summary
PX-021.0 introduces the first in-world tier milestone so players earn a tangible upgrade after demonstrating stable operations.  The runtime now tracks **stable power seconds** plus the rolling average Egg Flow; once both meet the PX-021 thresholds, Tier I unlocks, conveyors gain a configurable +10 % efficiency bonus, and telemetry/logs capture the moment for DocOps.

## Unlock Conditions
| Metric | Target | Notes |
| --- | --- | --- |
| Stable Power (`power_warning=normal`) | ≥ 90 s continuous | Timer resets when power dips into warning/critical. |
| Average Egg Flow (`economy_rate_avg`) | ≥ 1.2 credits/s | Uses EMA across the Slot D signal so automation spikes do not false-trigger. |

- Unlock is idempotent (`Save.tier_progress` records the milestone).  Restarts and reloads pick up where the timer left off.
- Conveyor efficiency bonus is defined via constant `TIER1_CONVEYOR_BONUS` (default **+10 %**) and applies through `ConveyorManager.set_speed_multiplier`.

## Player Feedback
- **Toast:** `toast_tier_one_unlock` (“Tier I unlocked — conveyor efficiency boosted!”) fires on unlock, mirroring the calm tone from PX-018 to avoid jarring the HUD.
- **Automation Panel:** Toggles/slider immediately reflect the upgraded cadence so players can fine-tune automation without reopening menus.
- **Telemetry:** StatsProbe CSV/JSON now include `tier` fields; StatBus exposes `micro_event_id` for PX-016 tie-ins, ensuring replay dashboards show when Tier I landed.

## Implementation Notes
- Runtime nodes: `AutomationPanelButton` opens the overlay, `AutomationPanel.tscn` renders outside baseline scenes so UI baselines stay untouched.
- Tier logic lives in `Main.gd` (`_update_tier_progress`, `_complete_tier_one_unlock`) and persists through `Save.tier_progress`.
- Conveyor belts respect the multiplier via the new `ConveyorManager.set_speed_multiplier()` + `ConveyorBelt.speed_multiplier`.

## Validation
1. Launch HUD (`./tools/run_dev.sh`), keep power stable, and drive Egg Flow past the threshold (manual feeding or automation slider).
2. Confirm toast + increased conveyor speed; StatBus `micro_event_id` stays empty unless PX-016 micro-events fire.
3. Run `$(bash tools/godot_resolver.sh) --headless --script res://tools/replay_headless.gd --duration=300 --seed=42` and check the CSV tail for `tier=1`.
