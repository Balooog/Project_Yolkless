# RM-021 — Environmental Simulation Layer

- **PX Anchor:** [PX-021.1](../prompts/PX-021.1.md)
- **Status:** Planned
- **Owner:** Systems & Presentation
- **Branch Prefix:** `feature/RM-021-environment`

## Overview
Extend the simulation beyond factory internals into a responsive world layer. Temperature, light, humidity, and air quality evolve along seasonal and prestige curves, gently modulating power efficiency, feed consumption, and aesthetics without punitive spikes.

## Key Objectives
- Track environmental factors with authored curves instead of random swings.
- Feed environmental state into power services (RM-018) and factory layout bonuses (RM-019).
- Drive visual/audio cues and top-banner weather indicators (RM-020, RM-010).
- Unlock Space Colony environmental controls as a prestige milestone.

## Dependencies
- Inputs from [RM-018 — Power & Resource Layer](RM-018.md) and [RM-019 — Factory Layout System](RM-019.md).
- Outputs to [RM-020 — Art / Audio Pipeline](RM-020.md) for visuals/audio and to [RM-010 — UI & Control Architecture](RM-010.md) for HUD integration.
- Supersedes legacy Environment Director notes (`docs/prompts/RM-010.md`); merge or archive remaining details into PX-021.1.

## Acceptance Outline
Full criteria captured in PX-021.1. Highlights:
1. `EnvironmentService.gd` maintains temperature, light, humidity, air quality with configurable curves.
2. Environmental state influences power efficiency, feed modifiers, and prestige ambience in gentle ranges.
3. UI exposes a weather icon and expandable environment panel showing live values.
4. Art/audio layers react to day/night cycle and climate state.
5. Space Colony unlock introduces stable-climate presets.
