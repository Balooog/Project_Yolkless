# PX-010.3 — UI Tokens & Core Helpers
**Targets:** RM-010 — UI & Control Architecture  
**Branch:** `feature/RM-010-ui-tokens`  
**Status:** Planned

## 1. Scope
Introduce shared UI tokens and helper utilities that enforce colour, typography, spacing, and overflow behaviour across the HUD. Apply the new system to the Top Banner and Bottom Tabs as the first adopters.

## 2. Objectives
1. Author `/ui/theme/Tokens.tres` and `/ui/theme/Tokens.gd` to centralise colours, radii, spacing scales, and font sizes (XS 11 → XXL 28).
2. Create `/ui/core/UIHelpers.gd` with helpers for sizing (`set_fill_expand`), typography (`apply_label_tokens`), overflow (`ensure_overflow_policy`), and safe-area padding.
3. Wire Top Banner and Bottom Tabs to use token resources instead of inline values; enforce `clip_text` or `autowrap_mode` on all labels.
4. Register token autoload or singleton accessor as needed for easy reuse (document usage in code comments).

## 3. Deliverables
- `/ui/theme/Tokens.tres` Godot resource with exported data.
- `/ui/theme/Tokens.gd` script exposing token getters.
- `/ui/core/UIHelpers.gd` helper script.
- Updated scenes/scripts: `ui/prototype/UIArchitecturePrototype.gd`, `ui/prototype/TopBanner.tscn` *(or equivalent nodes within UI prototype)*, `BottomTabs` controls using tokens.
- Documentation update: add token table and usage example to `docs/ux/UI_Principles.md`.

## 4. Acceptance Criteria
1. All banner and bottom tab labels use tokenised fonts/colours; no inline hex/RGBA.
2. Banner metrics resize correctly at S/M/L breakpoints via token values.
3. No label reports overflow: `clip_text=true` or `autowrap_mode` configured.
4. UILint prototype (placeholder) recognises Top Banner nodes have size flags set via helpers.

## 5. Tests & Validation
- Extend `tools/ci_smoke.sh` (or temporary script) to instantiate banner/tabs and verify helper functions execute without errors.
- Manual UI smoke at 640×360, 1280×720 verifying text scales and clips.

## 6. Dependencies
- RM-010 baseline prototype scene (`scenes/prototype/ui_architecture.tscn`).
- Requires updates in PX-010.4+ to expand token usage.

## 7. Rollback Plan
- Revert banner/tabs to previous inline values and remove token resource; no data migrations required.

## 8. Footers
```
RM: RM-010
PX: PX-010.3
```
