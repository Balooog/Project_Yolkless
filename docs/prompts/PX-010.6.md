# PX-010.6 — Bottom Tabs & Sheets System
**Targets:** RM-010 — UI & Control Architecture  
**Branch:** `feature/RM-010-tabs-sheets`  
**Status:** Planned

## 1. Scope
Standardise the tab bar and sheet presentation so mobile and desktop share behaviour while avoiding feed conflicts. Replace bespoke sheet code with reusable atoms and ensure dismissal flows work across inputs.

## 2. Objectives
1. Build reusable components in `/ui/components/BottomTabs.tscn` and `/ui/components/Sheet.tscn` with configurable content slots and token styling.
2. Ensure mobile uses bottom tab bar while desktop docks tabs to sidebar (leveraging breakpoint logic).
3. Keep feed button actionable even when sheets open; sheet interactability should not intercept feed gestures.
4. Implement consistent dismissal: `Esc`/`B`/swipe-down/hotkey collapse; controller focus returns to originating tab.

## 3. Deliverables
- New scenes/scripts: `BottomTabs.tscn`, `BottomTabs.gd`, `Sheet.tscn`, `Sheet.gd`.
- Updated `UIArchitecturePrototype.gd` using new components.
- Focus mapping updates for sheet open/close.
- Documentation: sheet interaction guidelines in `UI_Principles.md`.

## 4. Acceptance Criteria
1. Each main panel loads via sheet component; no stray `CanvasItem` placeholders.
2. Feed button accessible at all times (verified via UILint safe-area checks or manual test).
3. Desktop dock honours hotkeys; mobile tabs respond to swipe/tap.
4. Dismissal flows return focus correctly and do not trigger feed accidentally.

## 5. Tests & Validation
- Manual run on mobile layout (≤720 width) and desktop layout (≥1200 width).
- Controller test: open sheet → interact → `B` to close → focus returns to tab button.
- Screenshot diff ensures layout unaffected beyond expected sheet changes.

## 6. Dependencies
- Builds on PX-010.3 (tokens) and PX-010.4 (layout).
- Will feed into PX-010.8 focus work and PX-010.9 regression harness.

## 7. Rollback Plan
- Revert component scenes and fallback to prior sheet logic; feed behaviour unaffected.

## 8. Footers
```
RM: RM-010
PX: PX-010.6
```
