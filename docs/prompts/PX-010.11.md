# PX-010.11 — Tooltip & Dialog System
**Targets:** RM-010 — UI & Control Architecture  
**Branch:** `feature/RM-010-tooltips-dialogs`  
**Status:** Planned

## 1. Scope
Standardise tooltip and dialog interactions across the HUD, ensuring sheet-safe focus, accessibility, and consistent theming.

## 2. Objectives
1. Build tooltip atom (`/ui/components/Tooltip.tscn` + script) with configurable placement, delay, and token styling; support mouse hover, controller focus, and touch long-press triggers.
2. Implement modal dialog component (`/ui/components/UIDialog.tscn`) for confirmations (e.g., prestige), ensuring focus trapping and keyboard/controller shortcuts.
3. Wire tooltip/dialog usage into banner, tabs, store/research, and settings components.
4. Ensure tooltips never cover top banner; apply safe-area offsets and pointer alignment rules.

## 3. Deliverables
- Tooltip and dialog component scenes/scripts.
- Helper additions in `UIHelpers.gd` for tooltip registration and dialog invocation.
- Updated UI scenes hooking tooltips (metrics, disabled actions, store research) and using dialog atom for confirmations.
- Documentation: add tooltip/dialog usage guidelines to `docs/ux/UI_Principles.md`.

## 4. Acceptance Criteria
1. Tooltips respect overflow policy, staying within viewport bounds and avoiding banner overlap.
2. Dialogs trap focus, closing via `Esc/B` (cancel) and `Enter/A` (confirm); feed hotkey disabled while dialog open.
3. Controller long-press triggers tooltip reveal within 0.5 s.
4. UILint (or manual check) reports zero unlabeled buttons (tooltips fill gaps where text absent).

## 5. Tests & Validation
- Manual test: open prestige dialog from HUD, confirm focus trap and button actions.
- Screenshot baseline ensures tooltip/dial overlays captured and consistent (use `ui_baseline.sh`).
- Optional unit test: call tooltip helper to verify safe-area clamping.

## 6. Dependencies
- Token system (PX-010.3), sheet/tab layout (PX-010.6), focus map (PX-010.8).
- Supports store usability pass (PX-010.10) and pseudo-localisation (PX-010.7).

## 7. Rollback Plan
- Remove tooltip/dialog components and fallback to legacy hints; re-enable direct feed actions as prior.

## 8. Footers
```
RM: RM-010
PX: PX-010.11
```
