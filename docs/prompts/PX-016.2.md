# PX-016.2 — Event & Risk System
**Targets:** RM-016  
**Date:** 2025-10-22  
**Outcome:** Planned

## Driver Prompt
# Project Yolkless – PX-016.2  
### Event & Risk System (Targets RM-016)

---

## 1. Scope
Develop a periodic event framework that introduces minor production swings (≈±10%) through themed scenarios like feed surplus, conveyor jams, and solar flares. Stay within the calm pacing envelope detailed in `docs/analysis/IdleGameComparative.md`.

## 2. Functional Objectives
1. **Event Scheduler**
   - Weighted random selection with per-event cooldowns.
   - Supports manual triggering for QA.
2. **Effect Handlers**
   - Scripts adjust economy stats (feed rate, power usage, automation speed).
   - Duration-based start/end handling.
3. **Player Feedback**
   - HUD popups, ambient visual changes, and audio cues per event.
4. **Configuration**
   - Data-driven definitions in TSV/JSON for easy tuning.
5. **Telemetry**
   - Log events with timestamp, duration, and impact metrics.

## 3. Architecture Notes
- Create `EventDirector.gd` to manage scheduling and dispatch.
- Define `EventEffect` interface for modular effect scripts.
- Integrate with automation (RM-013) and power layer (RM-018).
- Provide editor tooling to simulate events for designers.
- Ensure events respect pause states and save/load continuity.

## 4. Acceptance Criteria
1. Event table drives in-game occurrences respecting weights and cooldowns.
2. Effects apply and revert correctly, updating economy metrics.
3. Visual/audio cues communicate event state without blocking gameplay.
4. Telemetry captures frequency and impact for QA regression.
5. Save/load during active events resumes state accurately.

## 5. Deliverables
- `/src/services/EventDirector.gd` plus effect scripts.
- Configuration files in `data/events.tsv` (migrate from `game/data/events.tsv`).
- UI overlays and ambient assets reflecting events.
- QA harness for forced event sequences.
- Documentation updates in `/docs/roadmap/RM-016.md`.

## 6. Future Extensions
- Player-choice responses (accept/decline bonuses).
- Seasonal event packs with unique rewards.
- Community mod hooks for custom events.

**Linked Roadmap:** RM-016 – Event & Risk System  
**Branch Convention:** `feature/RM-016-events`  
**Parent Epic:** Dynamic Systems & Live Ops
